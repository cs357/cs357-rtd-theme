(()=>{function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function e(e){var n=new URL(location.href).searchParams.get("q");new URL(location.href).searchParams.get("lang")||ui.lang,$("input[name='q']").val(n);var a=[],o=new RegExp;try{o=new RegExp(n,"im")}catch(t){return $(".search-results .content").empty(),$(".search-results .summary").html(ui.i18n.search_results_not_found),$(".search-results h2").html(ui.i18n.search_results),i(t.message)}function r(t,e,n){return t.slice(e,n).replace(o,(function(t){return'<span class="bg-yellow">'.concat(t,"</span>")}))}var c=new URL(window.location.href),s=c.pathname.match(/(.*textbook\/)/);s||i("Could not find textbook/ in path");var l,h=s[1],u="".concat(c.protocol,"//").concat(c.host).concat(h),f=function(e,n){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,n){if(e){if("string"==typeof e)return t(e,n);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){a&&(e=a);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,s=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var t=a.next();return s=t.done,t},e:function(t){l=!0,c=t},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw c}}}}(e);try{for(f.s();!(l=f.n()).done;){page=l.value;var d=null,p=null;try{page.title?d=page.title.match(o):"/"==page.url?page.title=ui.title:page.title=page.url}catch(t){i(t.message)}try{page.content&&(page.content=page.content.replaceAll('="/textbook/','="'.concat(u)),console.log(page.content),page.content=$("<div/>").html(page.content).text(),p=page.content.match(o))}catch(t){i(t.message)}if(d||p){var g=['<a href="'.concat(u).concat(page.url,"?highlight=").concat(n,'">').concat(page.title,"</a>")];if(p){var m=p.index-100,v=p.index+100,y="...",b="...";m<0&&(y="",m=0),v>page.content.length&&(b="",v=page.content.length),g.push('<p class="text-gray">'.concat(y).concat(r(page.content,m,v)).concat(b,"</p>"))}a.push('<li class="border-top py-4">'.concat(g.join(""),"</li>"))}}}catch(t){f.e(t)}finally{f.f()}a.length>0&&n.length>0?($(".search-results .content").html(a.join("")),$(".search-results .summary").html(ui.i18n.search_results_found.replace("#",a.length))):($(".search-results .content").empty(),$(".search-results .summary").html(ui.i18n.search_results_not_found)),$(".search-results h2").html(ui.i18n.search_results)}function n(t){var e=$(".toctree").find('[href="'.concat(decodeURI(t),'"]'));if(e.length>0){$(".toctree .current").removeClass("current"),e.addClass("current"),e.closest(".level-1").parent().addClass("current");for(var n=1;n<=11;n++)e.closest(".level-".concat(n)).addClass("current")}}if(location.pathname.endsWith("/search.html")){var a=new URL(window.location.href),o=a.pathname.match(/(.*textbook\/)/);o||i("Could not find textbook/ in path");var r=o[1],c="".concat(a.protocol,"//").concat(a.host).concat(r,"data.json");$.ajax(c).done(e).fail((function(t,e){i("Failed to load search data: ".concat(e)),$(".search-results .summary").html("Failed to load search data")}))}function s(t,e){return localStorage.setItem(t,e)}function l(t){return localStorage.getItem(t)||!1}function i(){console.debug.apply(console,arguments)}var h,u,f,d;$(window).bind("hashchange",(function(){return n(location.hash||location.pathname)})),$(document).on("scroll",(function(){var t=$(this).scrollTop()+5,e=[];$(".markdown-body").find("h1,h2,h3,h4,h5,h6").each((function(){e.push({offset:$(this).offset().top,id:this.id,level:parseInt(this.tagName.slice(1))})}));for(var a=0;a<e.length;a++)t>e[a].offset&&(a<e.length-1?t<e[a+1].offset&&(1==e[a].level?n(location.pathname):n("#"+e[a].id)):n("#"+e[a].id))})),$("#toggle").click((function(){$(".sidebar-wrap,.content-wrap,.addons-wrap").toggleClass("shift")})),$(".status").click((function(){$(".addons").toggleClass("d-none")})),location.pathname=="".concat(ui.baseurl,"/search.html")&&$.ajax("".concat(ui.baseurl,"/data.json")).done(e).fail((function(t,e){return i(e)})),$(".toctree li.current").append('<ul class="content-toc"></ul>').html((function(){var t=parseInt(this.dataset.level),e=0,n=[$(this).find(".content-toc")];$(".markdown-body").find("h2,h3,h4,h5,h6").each((function(){var a=$("<a/>").addClass("d-flex flex-items-baseline").text($(this).text()).attr("href","#".concat(this.id)),o=parseInt(this.tagName.slice(1))-1;if(o>e){var r=n[0].children("li:last")[0];r&&n.unshift($("<ul/>").appendTo(r))}else n.splice(0,Math.min(e-o,Math.max(n.length-1,0)));e=o,$("<li/>").addClass("toc level-".concat(t+o)).append(a).appendTo(n[0])})),n[0].html()||n[0].remove()})),n(location.pathname),n(location.hash),h=l("scroll"),u=l("scrollTime"),f=l("scrollHost"),h&&u&&f&&f==location.host&&Date.now()-u<6e5&&$(".sidebar").scrollTop(h),$(".sidebar").scroll((function(){s("scroll",this.scrollTop),s("scrollTime",Date.now()),s("scrollHost",location.host)})),(d=new URL(location.href).searchParams.get("highlight"))&&($(".markdown-body").find("*").each((function(){try{this.outerHTML.match(new RegExp(d,"im"))&&($(this).addClass("search-result"),$(this).parentsUntil(".markdown-body").removeClass("search-result"))}catch(t){i(t.message)}})),$(".search-result").each((function(){$(this).html((function(t,e){return e.replace(d,'<span class="bg-yellow">'.concat(d,"</span>"))}))})),$(".search input").val(d)),$(".toc ul").siblings("a").each((function(){var t=$(this),e=$('<i class="fa fa-plus-square-o"></i>');e.on("click",(function(e){return e.stopPropagation(),function(t){var e=t.closest("li");e.siblings("li.current").removeClass("current"),e.siblings().find("li.current").removeClass("current"),e.find("> ul li.current").removeClass("current"),e.toggleClass("current")}(t),!1})),t.prepend(e)})),$(".markdown-body :header").append((function(){return'<a href="#'.concat(this.id,'" class="anchor"><i class="octicon-link fa fa-link text-blue"></i></a>')})),$("div.highlighter-rouge").each((function(){var t=$(this).attr("class").match(/language-(\w+)/);t&&$(this).attr("data-lang",t[1])})),"serviceWorker"in navigator?navigator.serviceWorker.register("".concat(ui.baseurl,"/sw.caches.js")):i("Service Worker not supported!")})();